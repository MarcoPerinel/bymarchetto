<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>bymarchetto.it | Showroom fotografico</title>

    <meta name="description" content="Showroom fotografico di bymarchetto. Un racconto visivo attraverso paesaggi, dettagli e atmosfere catturate con uno sguardo autentico.">
    <meta name="robots" content="index, follow">
    <meta name="author" content="By Marchetto">

    <link rel="canonical" href="https://marcoperinel.github.io/bymarchetto/">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="bymarchetto.it | Showroom fotografico">
    <meta property="og:description" content="Un racconto fotografico attraverso la lente. Emozioni, luoghi e dettagli raccontati per immagini.">
    <meta property="og:url" content="https://marcoperinel.github.io/bymarchetto/">
    <meta property="og:image" content="https://marcoperinel.github.io/bymarchetto/assets/logo/OG-image.webp">
    <meta property="og:locale" content="it_IT">

    <!-- Twitter / X -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="bymarchetto.it | Showroom fotografico">
    <meta name="twitter:description" content="Un racconto fotografico fatto di luce, dettagli e silenzi.">
    <meta name="twitter:image" content="https://marcoperinel.github.io/bymarchetto/assets/img/OG-image.webp">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Dati strutturati -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "By Marchetto",
      "url": "https://marcoperinel.github.io/bymarchetto/",
      "image": "https://marcoperinel.github.io/bymarchetto/assets/img/OG-image.webp",
      "jobTitle": "Fotografo",
      "description": "Fotografo e autore di uno showroom visivo che racconta luoghi, dettagli ed emozioni attraverso la lente.",
      "sameAs": []
    }
    </script>
</head>

<body>

<div class="site-wrapper">

    <header class="site-header" id="site-header">
        <div class="logo-wrapper">
            <img src="assets/logo/white-logo.png" alt="By Marchetto logo">
        </div>
    </header>

    <section class="intro">
        <h1>Un racconto attraverso la lente</h1>
        <p>
            Nel mio modo di osservare il mondo, la fotografia è molto più di un semplice scatto:
            è un mezzo per fermare il tempo, per dare voce ai dettagli che altrimenti passerebbero inosservati.
            Attraverso l’obiettivo, trasformo attimi ordinari in storie visive che parlano di emozioni,
            di luoghi, di persone. Ogni immagine è il risultato di uno sguardo attento e di una sensibilità
            allenata a cogliere l’essenza, anche nel silenzio. In questo spazio ti accompagno dentro il mio
            modo di vedere, dove ogni scatto è un frammento sincero di realtà e immaginazione.
        </p>
    </section>

    <main class="gallery" id="gallery"></main>

    <footer class="site-footer">
        <div>                 
            <h4 class="title-footer">Social</h4>                 
            <a href="https://www.instagram.com/by_marchetto" class="footer-links" target="_blank">Instagram</a>             
        </div>
        
        <p>bymarchetto © <span id="year"></span></p>

        <div class="privacy-box">
            <a href="https://www.iubenda.com/privacy-policy/49726469" title="Privacy Policy" target="_blank">Privacy Policy</a>
            <a href="https://www.iubenda.com/privacy-policy/49726469/cookie-policy" title="Cookie Policy" target="_blank">Cookie Policy</a>
        </div>
    </footer>

</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
    <button class="lightbox-close" aria-label="Chiudi">&times;</button>
    <img src="" alt="">
</div>

<!-- JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', async () => {

    const username = 'MarcoPerinel';
    const repo = 'bymarchetto';
    const branch = 'main';
    const imagesFolder = 'bymarchetto/assets/img';
    const captionsUrl = 'assets/data/captions.json';

    const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${imagesFolder}?ref=${branch}`;

    const gallery = document.getElementById('gallery');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('img');
    const closeBtn = lightbox.querySelector('.lightbox-close');

    let captions = [];

    /* ==============================
       Carica caption
    ============================== */
    try {
        const capRes = await fetch(captionsUrl);
        captions = await capRes.json();
    } catch {
        captions = [];
    }

    /* ==============================
       Carica immagini
    ============================== */
    fetch(apiUrl)
        .then(r => {
            if (!r.ok) throw new Error('GitHub API error');
            return r.json();
        })
        .then(files => {
            const images = files.filter(f => /\.(webp|jpe?g|png)$/i.test(f.name));

            images.forEach((f, index) => {

                const item = document.createElement('div');
                item.className = 'gallery-item';

                const img = document.createElement('img');
                img.src = f.download_url;
                img.loading = 'lazy';
                img.alt = 'Fotografia di By Marchetto';

                img.addEventListener('click', () => {
                    lightboxImg.src = f.download_url;
                    lightbox.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });

                const caption = document.createElement('p');
                caption.className = 'caption';
                caption.textContent = captions[index] || '';

                item.appendChild(img);
                item.appendChild(caption);
                gallery.appendChild(item);
            });
        })
        .catch(() => {
            gallery.innerHTML = '<p style="opacity:.6">Gallery non disponibile.</p>';
        });

    /* ==============================
       Lightbox
    ============================== */
    function closeLightbox() {
        lightbox.classList.remove('active');
        lightboxImg.src = '';
        document.body.style.overflow = '';
    }

    lightbox.addEventListener('click', closeLightbox);
    closeBtn.addEventListener('click', e => {
        e.stopPropagation();
        closeLightbox();
    });

    document.addEventListener('keydown', e => {
        if (e.key === 'Escape') closeLightbox();
    });

});
</script>

<a href="#site-header" class="backtotop">TORNA SU</a>
</body>
</html>
